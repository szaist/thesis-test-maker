import{d as g,b as v,a as z,H as b,k as p,p as w,c as n,o as I,e as B,f as e,w as t,T as N,g as f,i as _,h as R}from"./entry.ebb06466.js";import{I as j}from"./IconCog.e218c6ea.js";import{I as D}from"./IconTrash.271302c3.js";import{u as E}from"./toast-message.a26e5741.js";import{I as H}from"./IconRefresh.28467fb3.js";import"./_plugin-vue_export-helper.c27b6911.js";const M={class:"max-w-5xl w-full mx-auto mt-4"},V={class:"flex justify-end w-full"},G=g({__name:"index",setup(L){const i=v(N),h=z(),r=E(),k=b(),l=p(!0),a=p(),u=async()=>{try{l.value=!0;const s=await i.listOwned();a.value=s}catch{r.showError({message:"Hiba történt a tesztek lekérése közben!"})}l.value=!1},y=s=>{h.push({path:`/test/my/${s}`})},C=s=>{k.require({header:"Teszt törlése",message:"Biztosan szeretnéd törölni ezt a tesztet?",acceptClass:"dialog-red-btn ml-2",accept:()=>{var c;try{i.delete({testId:s}),a.value=(c=a.value)==null?void 0:c.filter(o=>o.id!==s),r.showSuccess({message:"Teszt sikeresen törölve!"})}catch{r.showError({message:"Hiba történt a teszt törlése során!"})}}})};return w(()=>{u()}),(s,c)=>{const o=n("Column"),d=n("Button"),T=n("DataTable"),x=n("Card");return I(),B("div",M,[e(x,null,{title:t(()=>[f("Tesztjeim")]),content:t(()=>[e(T,{value:_(a),"data-key":"id",loading:_(l),size:"small"},{empty:t(()=>[f(" Nincsennek tesztjeid. ")]),default:t(()=>[e(o,{field:"title",header:"Név"}),e(o,{field:"description",header:"Leírás"}),e(o,{header:"","body-style":"width: 200px"},{header:t(()=>[R("div",V,[e(d,{text:"",onClick:u},{default:t(()=>[e(H)]),_:1})])]),body:t(m=>[e(d,{text:"",rounded:"",pt:{label:{class:"hidden"}},onClick:()=>y(m.data.id)},{default:t(()=>[e(j)]),_:2},1032,["onClick"]),e(d,{text:"",rounded:"",pt:{label:{class:"hidden"}},onClick:()=>C(m.data.id)},{default:t(()=>[e(D,{class:"text-red-600"})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["value","loading"])]),_:1})])}}});export{G as default};
