import{d as v,a as D,b as z,k as p,H as T,p as b,c as r,o as w,e as B,f as e,w as t,E as I,g as i,i as f,t as _,h as U}from"./entry.ebb06466.js";import{I as j}from"./IconBook.5fa3e9e3.js";import{I as R}from"./IconRefresh.28467fb3.js";import{I as S}from"./IconTrash.271302c3.js";import"./_plugin-vue_export-helper.c27b6911.js";const K={class:"max-w-5xl w-full mx-auto mt-4"},N={class:"flex justify-end w-full"},O=v({__name:"index",setup(L){const h=D(),u=z(I),l=p(!0),g=T(),n=p(),m=async()=>{try{l.value=!0;const o=await u.listOwned();n.value=o}catch{}l.value=!1},y=o=>{h.push({path:`/test-results/teacher/${o}`})},k=o=>{g.require({header:"Kiírt teszt törlése",message:"Biztosan kiszeretnéd törölni ezt a kiírt tesztet?",acceptClass:"dialog-red-btn ml-2",accept:async()=>{var c;try{await u.delete(o),n.value=(c=n.value)==null?void 0:c.filter(a=>a.id!==o)}catch{}}})};return b(()=>{m()}),(o,c)=>{const a=r("Column"),d=r("Button"),C=r("DataTable"),x=r("Card");return w(),B("div",K,[e(x,null,{title:t(()=>[i("Kiírt tesztjeim")]),content:t(()=>[e(C,{value:f(n),"data-key":"id",loading:f(l),size:"small"},{empty:t(()=>[i(" Nincsennek kiírt tesztjeid. ")]),default:t(()=>[e(a,{field:"test.title",header:"Teszt neve"}),e(a,{field:"course.name",header:"Kurzus neve"}),e(a,{field:"startDate",header:"Kezdés időpontja"},{body:t(s=>[i(_(new Date(s.data.startDate).toLocaleDateString("default",{minute:"numeric",hour:"numeric"})),1)]),_:1}),e(a,{field:"lastStartDate",header:"Utolsó elindítás időpontja"},{body:t(s=>[i(_(new Date(s.data.lastStartDate).toLocaleDateString("default",{minute:"numeric",hour:"numeric"})),1)]),_:1}),e(a,{header:""},{body:t(s=>[e(d,{text:"",rounded:"",pt:{label:{class:"hidden"}},onClick:()=>y(s.data.id)},{default:t(()=>[e(j)]),_:2},1032,["onClick"])]),_:1}),e(a,{header:""},{header:t(()=>[U("div",N,[e(d,{text:"",onClick:m},{default:t(()=>[e(R)]),_:1})])]),body:t(s=>[e(d,{text:"",rounded:"",pt:{label:{class:"hidden"}},onClick:()=>k(s.data.id)},{default:t(()=>[e(S,{class:"text-red-600"})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["value","loading"])]),_:1})])}}});export{O as default};
