import{d as S,b as m,u as j,a as F,k as a,p as I,c,o as K,e as L,f as s,w as o,C as V,T as q,q as A,g as l,t as u,i as d,h as E}from"./entry.68a40b73.js";const M={class:"max-w-5xl w-full mx-auto mt-4","keep-alive":""},$=E("h2",{class:"text-3xl font-bold"},"Kitöltött tesztek",-1),J=S({__name:"[id]",setup(G){const y=m(V),_=m(q),g=m(A),v=j(),h=F(),f=a(v.params.id),r=a(),C=a(),b=a(),T=a(),p=a(!0),k=async()=>{const t=Number(f.value.toString()),n=await y.findById(t);r.value=n,D()},w=async()=>{const t=Number(f.value.toString()),n=await _.findByCourseId(t);C.value=n},x=async()=>{const t=await _.list();b.value=t},D=async()=>{var n;const t=await g.listStudentFilledTests(((n=r.value)==null?void 0:n.id)??0);T.value=t},B=t=>{h.push({path:`/test-results/student/${t}`})};return I(()=>{p.value=!0,k(),w(),x(),p.value=!1}),(t,n)=>{const i=c("Column"),R=c("Button"),z=c("DataTable"),N=c("Card");return K(),L("div",M,[s(N,null,{title:o(()=>{var e;return[l(u((e=d(r))==null?void 0:e.name),1)]}),subtitle:o(()=>{var e;return[l(u((e=d(r))==null?void 0:e.description),1)]}),content:o(()=>[$,s(z,{value:d(T),loading:d(p),size:"small"},{empty:o(()=>[l(" Nincsennek kiírt tesztjeid. ")]),default:o(()=>[s(i,{field:"upComingTest.test.title",header:"Teszt neve"}),s(i,{field:"upComingTest.course.name",header:"Kurzus neve"}),s(i,{field:"startDate",header:"Kezdés időpontja"},{body:o(e=>[l(u(new Date(e.data.startDate).toLocaleDateString("default",{minute:"numeric",hour:"numeric"})),1)]),_:1}),s(i,{field:"endDate",header:"Befejezés időpontja"},{body:o(e=>[l(u(new Date(e.data.endDate).toLocaleDateString("default",{minute:"numeric",hour:"numeric"})),1)]),_:1}),s(i,{"header-style":"width: 5rem; text-align: center","body-style":"text-align: center; overflow: visible"},{body:o(e=>[s(R,{text:"",icon:"pi pi-book",rounded:"",pt:{label:{class:"hidden"}},onClick:()=>B(e.data.upComingTest.id)},null,8,["onClick"])]),_:1})]),_:1},8,["value","loading"])]),_:1})])}}});export{J as default};
