import{H as P,a as f,d as x,K as A,v as L,b as O,r as s,p as U,s as _,c as k,o as p,e as V,l as C,w as H,i as a,L as N,C as $,m as q,M as d,_ as h}from"./entry.ebb06466.js";import{u as T}from"./auth.0e1747a1.js";import{u as F}from"./toast-message.a26e5741.js";import{R as b}from"./Roles.a23a7a2f.js";const G=()=>{const g=P(),o=T(),n=F(),r=f();return()=>{g.require({group:"logout",message:"Biztosan szeretnél kijelentkezni?",header:"Kijelentkezés",acceptClass:"ml-2 dialog-logout-accept-btn",accept:()=>{n.showInfo({message:"Sikeresen kijelentkeztél!"}),o.token=null,o.authUser=null,r.push({path:"/auth/login"})},reject:()=>{}})}},J={class:"max-h-screen"},Z=x({__name:"default",setup(g){const o=d(()=>h(()=>import("./AppCreateCourse.2a61cec2.js"),["./AppCreateCourse.2a61cec2.js","./entry.ebb06466.js","./entry.6f06462d.css","./toast-message.a26e5741.js"],import.meta.url)),n=d(()=>h(()=>import("./AppCreateTest.5a623dd6.js"),["./AppCreateTest.5a623dd6.js","./entry.ebb06466.js","./entry.6f06462d.css","./toast-message.a26e5741.js"],import.meta.url)),r=d(()=>h(()=>import("./AppCreateUpcomingTest.b708a16b.js"),["./AppCreateUpcomingTest.b708a16b.js","./entry.ebb06466.js","./entry.6f06462d.css","./toast-message.a26e5741.js"],import.meta.url)),l=A(),E=()=>{l.open(o,{props:{modal:!0,header:"Kurzus hozzáadás"},onClose:()=>{}})},I=()=>{l.open(n,{props:{modal:!0,header:"Teszt létrehozása"},onClose:()=>{}})},j=()=>{l.open(r,{props:{modal:!0,header:"Teszt kurzushoz rendelése"},onClose:()=>{}})},y=G(),u=T(),{token:m}=L(u),e=f(),R=O($),c=s([]),z=async()=>{try{c.splice(0),(await R.listConnected()).forEach(i=>{c.push({label:i.name,command:()=>{e.push({path:`/course/${i.id}`})}})})}catch{}};U(()=>{u.token&&z()});const v=s([{label:"Profil",command:()=>{e.push({path:"/"})}},{label:"Kurzus",command:()=>{z()},items:[{label:"Elérhető kurzusok",items:c}]},{label:"Tesztek",items:[{label:"Tesztjeim",command:()=>{e.push({path:"/upcoming-test"})}}]}]),w=s([{label:"Profil",command:()=>{e.push({path:"/"})}},{label:"Kurzus",items:[{label:"Kurzusaim",command:()=>{e.push({path:"/course/my"})}},{label:"Új kurzus hozzáadása",command:()=>{E()}}]},{label:"Tesztek",items:[{label:"Tesztjeim",command:()=>{e.push({path:"/test/my"})}},{label:"Új teszt létrehozása",command:()=>{I()}}]},{label:"Kitöltendő tesztek",items:[{label:"Kiírt tesztek",command:()=>{e.push({path:"/upcoming-test/my"})}},{label:"Új teszt kiírása",command:()=>{j()}}]}]),S=_(()=>{var t;switch((t=u.authUser)==null?void 0:t.role){case b.STUDENT:return v;case b.TEACHER:return w}}),D=s([{label:"Bejelentkezés",command:()=>{e.push({path:"/auth/login"})}},{label:"Regisztráció",command:()=>{e.push({path:"/auth/register"})}}]),K=_(()=>m.value?S.value:D);return(t,i)=>{const B=k("Button"),M=k("Menubar");return p(),V("div",J,[(p(),C(M,{key:a(m)??"",model:a(K),pt:{end:"ml-auto"},"pt-options":{mergeSections:!0,mergeProps:!0}},{end:H(()=>[a(m)?(p(),C(B,{key:0,text:"",label:"Kijelentkezés",class:"ml-auto",pt:{label:"text-white dark:text-white/80 font-normal"},onClick:a(y)},null,8,["onClick"])):q("",!0)]),_:1},8,["model"])),N(t.$slots,"default")])}}});export{Z as default};
