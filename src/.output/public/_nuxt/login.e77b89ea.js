import{d as j,b as B,a as C,r as T,k as z,c as n,o as d,e as p,f as s,w as m,A,g as _,h as e,F as R,n as E,l as I,t as M,i as r,j as N}from"./entry.be0c2818.js";import{u as P}from"./auth.53e3255c.js";import{u as F}from"./toast-message.839c4d0d.js";const D={class:"flex justify-center items-center"},U=["onSubmit"],J={class:"flex flex-col gap-1 mb-2"},L={class:"flex flex-col gap-2"},q=e("label",{for:"email"},"Email",-1),G={class:"flex flex-col gap-2 mt-2"},H=e("label",{for:"password"},"Jelszó",-1),K={class:"flex justify-between mt-6"},Y=j({__name:"login",setup(O){const f=B(A),g=P(),h=F(),i=C(),o=T({email:"",password:""}),u=z(),x=async()=>{try{const l=await f.login(o);g.token=l.access_token,h.showSuccess({message:"Sikeres bejelentkezés!"}),i.push({path:"/"})}catch(l){const{data:t}=l;u.value=Array.isArray(t.message)?t.message:[t.message]}},k=()=>{i.push({path:"/auth/register"})},w=()=>{i.push({path:"/auth/forgot-password"})};return(l,t)=>{const b=n("InlineMessage"),y=n("InputText"),v=n("Password"),c=n("Button"),S=n("Card");return d(),p("div",D,[s(S,{"pt-options":{mergeProps:!0},pt:{root:{class:["w-[560px]"]},title:"text-4xl mb-2"}},{title:m(()=>[_(" Bejelentkezés ")]),content:m(()=>[e("form",{onSubmit:N(x,["prevent"])},[e("div",null,[e("div",J,[(d(!0),p(R,null,E(r(u),(a,V)=>(d(),I(b,{key:V,severity:"error"},{default:m(()=>[_(M(a),1)]),_:2},1024))),128))]),e("div",L,[q,s(y,{id:"email",modelValue:r(o).email,"onUpdate:modelValue":t[0]||(t[0]=a=>r(o).email=a)},null,8,["modelValue"])]),e("div",G,[H,s(v,{id:"password",modelValue:r(o).password,"onUpdate:modelValue":t[1]||(t[1]=a=>r(o).password=a),type:"text",feedback:!1,"toggle-mask":""},null,8,["modelValue"])]),e("div",K,[s(c,{text:"",severity:"text",label:"Nincs még fiókod?",onClick:k}),s(c,{type:"submit",label:"Bejelentkezés"})]),e("div",null,[s(c,{text:"",label:"Elfelejtetted a jelszavad?",onClick:w})])])],40,U)]),_:1})])}}});export{Y as default};
