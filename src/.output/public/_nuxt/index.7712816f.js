import{o as D,e as g,d as C,a as S,k as p,b as f,p as z,c as i,f as e,w as a,q as R,E as B,g as c,i as h,t as y,h as N,y as $}from"./entry.be0c2818.js";import{I as j}from"./IconRefresh.818997b5.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";const L={},U={class:"pi pi-play"};function V(x,m){return D(),g("i",U)}const E=I(L,[["render",V]]),K={class:"max-w-5xl w-full mx-auto mt-4"},A=C({__name:"index",setup(x){const m=S(),l=p(),d=p(!0),T=f(R),k=f(B),_=async()=>{try{d.value=!0;const n=await k.list();l.value=n}catch{}d.value=!1},u=(n,o)=>{const t=new Date;return t>=new Date(n)&&t<=new Date(o)},w=async n=>{var t;const o=(t=l.value)==null?void 0:t.find(r=>r.id===n);if(o&&u(o.startDate,o.lastStartDate))try{const r=await T.startTest(n);m.push({path:`/test/fill/${r.id}/${o.id}`})}catch{}};return z(()=>{_()}),(n,o)=>{const t=i("Column"),r=i("Button"),b=i("DataTable"),v=i("Card");return D(),g("div",K,[e(v,null,{title:a(()=>[c("Számomra kiírt tesztek")]),content:a(()=>[e(b,{value:h(l),"data-key":"id",loading:h(d),size:"small"},{empty:a(()=>[c(" Nincsennek kiírt tesztjeid. ")]),default:a(()=>[e(t,{field:"test.title",header:"Teszt neve"}),e(t,{field:"course.name",header:"Kurzus neve"}),e(t,{field:"startDate",header:"Kezdés időpontja"},{body:a(s=>[c(y(new Date(s.data.startDate).toLocaleDateString("default",{minute:"numeric",hour:"numeric"})),1)]),_:1}),e(t,{field:"lastStartDate",header:"Utolsó elindítás időpontja"},{body:a(s=>[c(y(new Date(s.data.lastStartDate).toLocaleDateString("default",{minute:"numeric",hour:"numeric"})),1)]),_:1}),e(t,{header:"","body-style":"width: 70px"},{header:a(()=>[e(r,{text:"",onClick:_},{default:a(()=>[e(j)]),_:1})]),body:a(s=>[N("div",null,[e(r,{disabled:!u(s.data.startDate,s.data.lastStartDate),text:"",rounded:"",pt:{label:{class:"hidden"}},onClick:()=>w(s.data.id)},{default:a(()=>[e(E,{class:$({"text-gray-400":!u(s.data.startDate,s.data.lastStartDate)})},null,8,["class"])]),_:2},1032,["disabled","onClick"])])]),_:1})]),_:1},8,["value","loading"])]),_:1})])}}});export{A as default};
